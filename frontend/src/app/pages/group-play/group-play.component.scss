.play-screen {
  position: relative;
  min-height: 100%;
  height: 100%;
  box-sizing: border-box;
  background: radial-gradient(circle at top, rgba(50, 60, 80, 0.35), transparent 60%),
    linear-gradient(180deg, rgba(13, 16, 28, 0.98), rgba(16, 20, 32, 0.98));
  color: #e9ecf4;
  display: flex;
  flex-direction: column;
  padding: var(--spacing-lg);
  gap: var(--spacing-lg);
  overflow: hidden;
  overscroll-behavior: none;
  -webkit-tap-highlight-color: transparent;
}

.play-screen--loading,
.play-screen--error {
  align-items: center;
  justify-content: center;
}

.play-layout {
  position: relative;
  flex: 1;
  min-height: 0;
  display: grid;
  gap: var(--spacing-md);
  grid-template-columns: minmax(220px, 1fr) minmax(120px, 140px) minmax(220px, 1fr);
  align-items: stretch;
}

.play-layout[data-count='2'] {
  grid-template-columns: minmax(260px, 1fr) minmax(120px, 140px) minmax(260px, 1fr);
}

.play-layout[data-count='3'] {
  grid-template-columns: minmax(260px, 2fr) minmax(120px, 140px) minmax(140px, 1fr);
}

.play-layout[data-count='4'] {
  grid-template-columns: minmax(220px, 1fr) minmax(120px, 140px) minmax(220px, 1fr);
}

.play-layout[data-count='5'],
.play-layout[data-count='6'] {
  grid-template-columns: minmax(300px, 4fr) minmax(120px, 140px) minmax(120px, 1fr);
}

.play-layout[data-count='6'] {
  grid-template-columns: minmax(280px, 2fr) minmax(120px, 140px) minmax(200px, 1fr);
}

.play-column {
  display: grid;
  gap: var(--spacing-md);
  align-content: stretch;
  min-height: 0;
}

.play-column--left[data-count='2'] {
  grid-template-rows: 1fr;
}

.play-column--left[data-count='3'],
.play-column--left[data-count='4'] {
  grid-template-rows: repeat(2, 1fr);
}

.play-column--left[data-count='5'],
.play-column--left[data-count='6'] {
  grid-template-columns: repeat(2, 1fr);
  grid-template-rows: repeat(2, 1fr);
}

.play-column--right[data-count='2'],
.play-column--right[data-count='3'],
.play-column--right[data-count='5'] {
  grid-template-rows: 1fr;
}

.play-column--right[data-count='4'],
.play-column--right[data-count='6'] {
  grid-template-rows: repeat(2, 1fr);
}

@media (max-width: 900px) {
  .play-screen {
    padding: var(--spacing-md);
  }
}

@media (max-width: 1199px) {
  .play-screen.play-screen--compact {
    padding: var(--spacing-sm);
    overflow: auto;
    box-sizing: border-box;
    min-height: 100%;
    height: 100%;
  }

  .play-screen.play-screen--compact .play-layout,
  .play-screen.play-screen--compact .play-layout[data-count='2'],
  .play-screen.play-screen--compact .play-layout[data-count='4'],
  .play-screen.play-screen--compact .play-layout[data-count='5'] {
    grid-template-columns: minmax(0, 1fr) minmax(92px, 112px) minmax(0, 1fr);
    gap: var(--spacing-sm);
  }

  .play-screen.play-screen--compact .play-layout[data-count='3'] {
    grid-template-columns: minmax(0, 1.9fr) minmax(92px, 112px) minmax(0, 1.1fr);
    gap: var(--spacing-sm);
  }

  .play-screen.play-screen--compact .play-layout[data-count='5'] {
    grid-template-columns: minmax(0, 3.6fr) minmax(86px, 104px) minmax(0, 1.25fr);
    gap: var(--spacing-sm);
  }

  .play-screen.play-screen--compact .play-layout[data-count='6'] {
    grid-template-columns: minmax(0, 2fr) minmax(86px, 104px) minmax(0, 1fr);
    gap: var(--spacing-sm);
  }
}

@media (max-width: 1199px) and (max-height: 900px) {
  .play-screen.play-screen--compact .play-column {
    gap: 8px;
  }
}

@media (max-width: 1199px) and (max-height: 760px) {
  .play-screen.play-screen--compact {
    padding: 6px;
  }

  .play-screen.play-screen--compact .play-layout,
  .play-screen.play-screen--compact .play-layout[data-count='2'],
  .play-screen.play-screen--compact .play-layout[data-count='4'],
  .play-screen.play-screen--compact .play-layout[data-count='5'] {
    grid-template-columns: minmax(0, 1fr) minmax(82px, 96px) minmax(0, 1fr);
    gap: 6px;
  }

  .play-screen.play-screen--compact .play-layout[data-count='3'] {
    grid-template-columns: minmax(0, 1.8fr) minmax(82px, 96px) minmax(0, 1.15fr);
    gap: 6px;
  }

  .play-screen.play-screen--compact .play-layout[data-count='5'] {
    grid-template-columns: minmax(0, 3.3fr) minmax(76px, 90px) minmax(0, 1.35fr);
    gap: 6px;
  }

  .play-screen.play-screen--compact .play-layout[data-count='6'] {
    grid-template-columns: minmax(0, 2fr) minmax(76px, 90px) minmax(0, 1fr);
    gap: 6px;
  }
}

@media (max-width: 1199px) and (orientation: portrait) {
  .play-screen.play-screen--portrait {
    position: fixed;
    top: 0;
    left: 0;
    width: var(--viewport-height, 100dvh);
    height: var(--viewport-width, 100dvw);
    min-height: var(--viewport-width, 100dvw);
    max-height: var(--viewport-width, 100dvw);
    transform-origin: top left;
    transform: rotate(90deg) translateY(calc(-1 * var(--viewport-width, 100dvw)));
    z-index: 999;
  }
}
